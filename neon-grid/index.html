<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON GRID SYSTEM</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="grid-container">
        <div class="header-section">
            <h1 class="neon-title">NEON GRID</h1>
            <p class="system-status">QUANTUM NETWORK INTERFACE</p>
        </div>
        
        <div class="main-grid">
            <div class="grid-cell" data-x="0" data-y="0"></div>
            <div class="grid-cell" data-x="1" data-y="0"></div>
            <div class="grid-cell" data-x="2" data-y="0"></div>
            <div class="grid-cell" data-x="3" data-y="0"></div>
            <div class="grid-cell" data-x="4" data-y="0"></div>
            <div class="grid-cell" data-x="0" data-y="1"></div>
            <div class="grid-cell active" data-x="1" data-y="1"></div>
            <div class="grid-cell" data-x="2" data-y="1"></div>
            <div class="grid-cell active" data-x="3" data-y="1"></div>
            <div class="grid-cell" data-x="4" data-y="1"></div>
            <div class="grid-cell" data-x="0" data-y="2"></div>
            <div class="grid-cell" data-x="1" data-y="2"></div>
            <div class="grid-cell special" data-x="2" data-y="2"></div>
            <div class="grid-cell" data-x="3" data-y="2"></div>
            <div class="grid-cell" data-x="4" data-y="2"></div>
            <div class="grid-cell" data-x="0" data-y="3"></div>
            <div class="grid-cell active" data-x="1" data-y="3"></div>
            <div class="grid-cell" data-x="2" data-y="3"></div>
            <div class="grid-cell active" data-x="3" data-y="3"></div>
            <div class="grid-cell" data-x="4" data-y="3"></div>
            <div class="grid-cell" data-x="0" data-y="4"></div>
            <div class="grid-cell" data-x="1" data-y="4"></div>
            <div class="grid-cell" data-x="2" data-y="4"></div>
            <div class="grid-cell" data-x="3" data-y="4"></div>
            <div class="grid-cell" data-x="4" data-y="4"></div>
        </div>
        
        <div class="control-interface">
            <div class="data-panel">
                <h3>GRID ANALYSIS</h3>
                <div class="data-stream">
                    <div class="data-line">NODES ACTIVE: <span class="highlight">8/25</span></div>
                    <div class="data-line">POWER LEVEL: <span class="highlight">78%</span></div>
                    <div class="data-line">SYNC STATUS: <span class="highlight">ONLINE</span></div>
                    <div class="data-line">ENCRYPTION: <span class="highlight">QUANTUM</span></div>
                </div>
            </div>
            
            <div class="hex-display">
                <h3>HEX DECODER</h3>
                <div class="hex-grid">
                    <div class="hex-value clickable" onclick="selectHex(this)">43</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">54</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">46</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">7B</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">67</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">72</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">69</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">64</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">5F</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">6D</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">61</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">73</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">74</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">65</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">72</div>
                    <div class="hex-value clickable" onclick="selectHex(this)">7D</div>
                </div>
                <div class="decoded-text">
                    <span class="decode-label">DECODED:</span>
                    <span class="decoded-output" id="decoded-output">Click hex values in sequence...</span>
                </div>
                <div class="decoder-controls">
                    <button onclick="clearDecoder()" class="decoder-btn">CLEAR</button>
                    <button onclick="decodeSequence()" class="decoder-btn">DECODE</button>
                </div>
            </div>
        </div>
        
        <div class="circuit-board">
            <div class="circuit-line horizontal" style="top: 20%; left: 10%; width: 80%;"></div>
            <div class="circuit-line vertical" style="left: 30%; top: 10%; height: 80%;"></div>
            <div class="circuit-line horizontal" style="top: 60%; left: 20%; width: 60%;"></div>
            <div class="circuit-line vertical" style="left: 70%; top: 30%; height: 40%;"></div>
            <div class="circuit-node" style="top: 20%; left: 30%;"></div>
            <div class="circuit-node" style="top: 60%; left: 70%;"></div>
            <div class="circuit-node" style="top: 40%; left: 50%;"></div>
        </div>
        
        <div class="grid-navigation">
            <a href="network.html" class="grid-nav-btn">NETWORK NODES</a>
            <a href="protocol.html" class="grid-nav-btn">PROTOCOL LAYER</a>
        </div>
        
        <div class="navigation">
            <a href="../terminal-login/index.html" class="nav-btn">Terminal Login</a>
            <a href="../matrix-code/index.html" class="nav-btn">Matrix Code</a>
            <a href="../cyber-vault/index.html" class="nav-btn">Cyber Vault</a>
            <a href="../hacker-console/index.html" class="nav-btn">Hacker Console</a>
        </div>
    </div>

    <script>
        // Disable right-click
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
        
        // Disable F12, Ctrl+Shift+I, Ctrl+U
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
                return false;
            }
        });
        
        // Grid interaction and pattern detection
        let selectedHexSequence = [];
        let gridUnlocked = false;
        const correctPattern = [
            [2,2] // Just the center cell
        ];
        
        document.querySelectorAll('.grid-cell').forEach(cell => {
            cell.addEventListener('click', function() {
                this.classList.toggle('active');
                updateGridAnalysis();
                checkGridPattern();
            });
        });
        
        function updateGridAnalysis() {
            const activeCells = document.querySelectorAll('.grid-cell.active').length;
            document.querySelector('.data-stream .data-line:first-child .highlight').textContent = `${activeCells}/25`;
        }
        
        function checkGridPattern() {
            const activeCells = document.querySelectorAll('.grid-cell.active');
            const activeCoords = Array.from(activeCells).map(cell => [
                parseInt(cell.dataset.x),
                parseInt(cell.dataset.y)
            ]);
            
            // Check if the correct pattern is active
            const patternMatch = correctPattern.every(coord => 
                activeCoords.some(active => active[0] === coord[0] && active[1] === coord[1])
            ) && activeCoords.length === correctPattern.length;
            
            if (patternMatch && !gridUnlocked) {
                gridUnlocked = true;
                document.querySelector('.hex-display h3').textContent = 'HEX DECODER - UNLOCKED';
                document.querySelector('.hex-display h3').style.color = '#00ff00';
                showMessage('Center cell activated! Hex decoder unlocked.');
            }
        }
        
        function selectHex(hexElement) {
            if (!gridUnlocked) {
                showMessage('Decoder locked. Activate the correct grid pattern first.');
                return;
            }
            
            hexElement.classList.add('selected');
            selectedHexSequence.push(hexElement.textContent);
            
            // Update display with current sequence
            const currentDecoded = selectedHexSequence.map(hex => 
                String.fromCharCode(parseInt(hex, 16))
            ).join('');
            
            document.getElementById('decoded-output').textContent = currentDecoded || 'Building sequence...';
        }
        
        function clearDecoder() {
            selectedHexSequence = [];
            document.querySelectorAll('.hex-value').forEach(hex => hex.classList.remove('selected'));
            document.getElementById('decoded-output').textContent = 'Click hex values in sequence...';
        }
        
        function decodeSequence() {
            if (!gridUnlocked) {
                showMessage('Decoder locked. Activate the correct grid pattern first.');
                return;
            }
            
            if (selectedHexSequence.length === 0) {
                showMessage('No hex sequence selected.');
                return;
            }
            
            const decoded = selectedHexSequence.map(hex => 
                String.fromCharCode(parseInt(hex, 16))
            ).join('');
            
            document.getElementById('decoded-output').textContent = decoded;
            
            // Check if they decoded the flag
            if (decoded === 'CTF{grid_master}') {
                document.getElementById('decoded-output').classList.add('decoded-flag');
                showMessage('FLAG DISCOVERED! Well done, grid master!');
            }
        }
        
        function showMessage(text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'system-message';
            messageDiv.textContent = text;
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(0, 255, 255, 0.9);
                color: #000;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 1000;
                font-weight: bold;
                max-width: 300px;
                animation: slideIn 0.3s ease-out;
            `;
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        document.body.removeChild(messageDiv);
                    }
                }, 300);
            }, 3000);
        }
        
        // Hex decoder animation (now only highlights when unlocked)
        let hexIndex = 0;
        const hexValues = document.querySelectorAll('.hex-value');
        
        setInterval(() => {
            if (gridUnlocked) {
                hexValues.forEach(hex => hex.classList.remove('highlight'));
                if (hexValues[hexIndex]) {
                    hexValues[hexIndex].classList.add('highlight');
                    hexIndex = (hexIndex + 1) % hexValues.length;
                }
            }
        }, 500);
        
        // Circuit animation
        function animateCircuits() {
            const lines = document.querySelectorAll('.circuit-line');
            lines.forEach((line, index) => {
                setTimeout(() => {
                    line.style.animation = 'circuit-flow 2s ease-in-out infinite';
                }, index * 200);
            });
        }
        
        animateCircuits();
        
        // Grid pattern animation
        setInterval(() => {
            const randomCell = document.querySelector(`[data-x="${Math.floor(Math.random() * 5)}"][data-y="${Math.floor(Math.random() * 5)}"]`);
            if (randomCell && !randomCell.classList.contains('special')) {
                randomCell.classList.add('pulse');
                setTimeout(() => randomCell.classList.remove('pulse'), 1000);
            }
        }, 1500);
        
        // Welcome message with hint
        setTimeout(() => {
            showMessage('Welcome to the Neon Grid! Click the special starred cell to unlock the hex decoder.');
        }, 2000);
    </script>
</body>
</html>